import{C as t}from"./cookie-universal-common.1db1b1e7.js";import{g as a,p as o,w as s}from"./api.aac0f3b3.js";t();const r=function(){const{subscribe:t,set:e}=s({items:[],qty:0,subtotal:0,discount:0,total:0,offer_total:0,showCart:!1,promo:null});return{subscribe:t,fetch:async()=>{try{const t=await a("cart",null);return e(t),t}catch(t){}},add:async t=>{try{const a=await o("cart/addE",t);return e(a),a}catch(t){throw t}},setPromo:t=>{e({promo:t.details,total:t.amount})},showCart:()=>showCart,setCart:t=>{e({items:t.items||[],qty:t.qty,discount:t.discount||0,subtotal:t.subtotal,total:t.total,offer_total:t.offer_total})},toggleCart:t=>{showCart=t},checkout:async({paymentMethod:t,address:a})=>{try{let s=await o("orders",{address:a,paymentMethod:t||"COD"});const c=await r.fetch();return e(c),s}catch(t){throw t}}}}();export{r as c};
