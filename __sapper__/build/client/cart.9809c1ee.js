import{C as t}from"./cookie-universal-common.cf540f80.js";import{w as a}from"./app.1ea9d4d9.js";import{g as o,p as s}from"./api.a43936a9.js";t();const r=function(){const{subscribe:t,set:e}=a({items:[],qty:0,subtotal:0,discount:0,total:0,offer_total:0,showCart:!1,promo:null});return{subscribe:t,fetch:async()=>{try{const t=await o("cart",null);return e(t),t}catch(t){}},add:async t=>{try{const a=await s("cart/addE",t);return e(a),a}catch(t){throw t}},setPromo:t=>{e({promo:t.details,total:t.amount})},showCart:()=>showCart,setCart:t=>{e({items:t.items||[],qty:t.qty,discount:t.discount||0,subtotal:t.subtotal,total:t.total,offer_total:t.offer_total})},toggleCart:t=>{showCart=t},checkout:async({paymentMethod:t,address:a})=>{try{let o=await s("orders",{address:a,paymentMethod:t||"COD"});const c=await r.fetch();return e(c),o}catch(t){throw t}}}}();export{r as c};
