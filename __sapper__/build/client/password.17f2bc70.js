import{S as a,i as s,s as t,e,a as r,t as o,m as n,c as l,b as c,f,g as d,d as i,o as u,h as m,I as h,O as p,j as $,k as w,q as g,v,w as b,a9 as P,x,P as j,Q as y,R as E,W as C,a8 as I,n as B,y as R}from"./index.fc0bae90.js";import"./cookie-universal-common.6f91e95b.js";import"./app.ac84a6bc.js";import"./api.7f2db2a0.js";import{B as S}from"./Button.5d389781.js";import"./index.6c5201bf.js";import{P as k}from"./Passwordbox.ecf3fcb7.js";import{a as A}from"./auth.2128a30a.js";import{f as F,a as M}from"./pageFade.b4ca7e32.js";function N(a){let s,t;return{c(){s=e("p"),t=o("Password Changed"),this.h()},l(a){s=l(a,"P",{class:!0});var e=c(s);t=i(e,"Password Changed"),e.forEach(f),this.h()},h(){m(s,"class","mb-2 p-2 text-xs bg-yellow-400 rounded")},m(a,e){$(a,s,e),w(s,t)},p:B,d(a){a&&f(s)}}}function O(a){let s,t;return{c(){s=e("p"),t=o(a[2]),this.h()},l(e){s=l(e,"P",{class:!0});var r=c(s);t=i(r,a[2]),r.forEach(f),this.h()},h(){m(s,"class","mb-2 p-2 text-xs primary rounded")},m(a,e){$(a,s,e),w(s,t)},p(a,s){4&s&&R(t,a[2])},d(a){a&&f(s)}}}function q(a){let s;return{c(){s=o("Save")},l(a){s=i(a,"Save")},m(a,t){$(a,s,t)},d(a){a&&f(s)}}}function z(a){let s,t,B,R,A,z,D,H,Q,V,W,G,J,K,L,T,U,X,Y,Z;function _(a,s){return a[2]?O:a[1]?N:void 0}let aa=_(a),sa=aa&&aa(a);function ta(s){a[4].call(null,s)}let ea={label:"Current Password"};void 0!==a[0].oldPassword&&(ea.value=a[0].oldPassword);const ra=new k({props:ea});function oa(s){a[5].call(null,s)}j.push(()=>y(ra,"value",ta));let na={label:"New Password"};void 0!==a[0].newPassword&&(na.value=a[0].newPassword);const la=new k({props:na});j.push(()=>y(la,"value",oa));const ca=new S({props:{type:"submit",full:!0,rounded:!0,size:"xl",color:"primary",$$slots:{default:[q]},$$scope:{ctx:a}}});return{c(){s=e("main"),t=e("div"),B=e("a"),R=e("i"),A=r(),z=e("h1"),D=o("Change Password"),H=r(),sa&&sa.c(),Q=r(),V=e("form"),n(ra.$$.fragment),G=r(),n(la.$$.fragment),K=r(),L=e("br"),T=r(),n(ca.$$.fragment),this.h()},l(a){s=l(a,"MAIN",{class:!0});var e=c(s);t=l(e,"DIV",{class:!0});var r=c(t);B=l(r,"A",{href:!0});var o=c(B);R=l(o,"I",{class:!0}),c(R).forEach(f),o.forEach(f),A=d(r),z=l(r,"H1",{class:!0});var n=c(z);D=i(n,"Change Password"),n.forEach(f),r.forEach(f),H=d(e),sa&&sa.l(e),Q=d(e),V=l(e,"FORM",{class:!0});var m=c(V);u(ra.$$.fragment,m),G=d(m),u(la.$$.fragment,m),K=d(m),L=l(m,"BR",{}),T=d(m),u(ca.$$.fragment,m),m.forEach(f),e.forEach(f),this.h()},h(){m(R,"class","fa fa-arrow-left"),m(B,"href","/my"),m(z,"class","text-2xl font-bold p-6 text-center"),m(t,"class","flex justify-between items-center my-4"),m(V,"class","text-center bg-white"),m(s,"class","m-auto w-full lg:w-1/2"),Z=h(V,"submit",p(a[3]))},m(a,e){$(a,s,e),w(s,t),w(t,B),w(B,R),w(t,A),w(t,z),w(z,D),w(s,H),sa&&sa.m(s,null),w(s,Q),w(s,V),g(ra,V,null),w(V,G),g(la,V,null),w(V,K),w(V,L),w(V,T),g(ca,V,null),Y=!0},p(a,[t]){aa===(aa=_(a))&&sa?sa.p(a,t):(sa&&sa.d(1),(sa=aa&&aa(a))&&(sa.c(),sa.m(s,Q)));const e={};!W&&1&t&&(W=!0,e.value=a[0].oldPassword,E(()=>W=!1)),ra.$set(e);const r={};!J&&1&t&&(J=!0,r.value=a[0].newPassword,E(()=>J=!1)),la.$set(r);const o={};64&t&&(o.$$scope={dirty:t,ctx:a}),ca.$set(o)},i(a){Y||(v(ra.$$.fragment,a),v(la.$$.fragment,a),v(ca.$$.fragment,a),C(()=>{X&&X.end(1),U||(U=I(s,M,{})),U.start()}),Y=!0)},o(a){b(ra.$$.fragment,a),b(la.$$.fragment,a),b(ca.$$.fragment,a),U&&U.invalidate(),X=P(s,F,{}),Y=!1},d(a){a&&f(s),sa&&sa.d(),x(ra),x(la),x(ca),a&&X&&X.end(),Z()}}}function D(a,s,t){let e={},r=!1,o=null;return[e,r,o,async function(){try{t(0,e=await A.changePassword(e)),t(1,r=!0)}catch(a){t(2,o=a)}},function(a){e.oldPassword=a,t(0,e)},function(a){e.newPassword=a,t(0,e)}]}export default class extends a{constructor(a){super(),s(this,a,D,z,t,{})}}
